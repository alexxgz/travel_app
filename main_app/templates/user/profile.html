{% extends 'base.html' %}
{% block content %}


<h1 style="text-align: center;">Your Profile</h1>


  <div class="row">
  <div class="col-sm-6">
    <div class="card">
      <div class="card-body d-grid gap-2">
        <a href="" class="btn btn-warning">
        <h5 class="card-title">Username : {{ user.username }}</h5>
        <p class="card-text">Current City : {{ user.city }}</p>
        <p class="card-text">Registration Date : {{ request.user.date_joined }}</p>
        <a href="/accounts/edit_profile" class="btn btn-outline-danger">Edit</a>
        <a href="/cities" class="btn btn-outline-danger">View All Cities</a>
        </a>
      </div>
    </div>
  </div>
  <div class="col-sm-6">
  <a href="/posts_new" class="btn btn-warning" id="profileCreatePost">Create New Post</a>
    {% for post in ordered_posts %}

    <div class="card">
      <div class="card-body">
        <h5>Title: <a href="/posts_show/{{ post.id }}" class ="link">{{ post.title }}</a>
      </h5>
        <h6 class="card-text">City: {{ post.city }} </h6>
        <h6 class="card-text">{{ post.body }}</h6>    

    <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
  Delete
</button>
<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Are you sure you want to delete this post?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        You cant go back once you delete it
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <a href="/posts_delete/{{ post.id }}" class="btn btn-outline-danger">Delete Post</a>
      </div>
    </div>
  </div>
</div>
        <a href="/posts_edit/{{ post.id }}" class="btn btn-outline-danger">Edit Post</a>
        <a href="/cities" class ="btn btn-outline-danger">View City</a>
      </div>
    </div>
    {% endfor %} 
  </div>
</div>
  

{% endblock %}